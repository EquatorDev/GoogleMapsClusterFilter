# Google Maps: Cluster and Filter

This is a JavaScript class that allows you to quickly create filterable clustered Google Maps widgets.

Give it an array of coordinates objects (latitides and longitudes), along with any information you want to be able to filter on. It will then generate the map, markers and clusters. 

![Google Maps Cluster and Filter](screenshot.PNG?raw=true)

## Usage

Your map is generated by calling 
```
var your_map = new FilterMap([args])
```

The required arguments are 

* **map_holder**: `HTMLElement`, This is where the Google Map will go.

* **location_data**: `Array`, Array of location objects. These have "Latitude" and "Longitude" values


## Sample Usage

```
var map_holder = document.querySelector('.map_holder'),
	
	//Get location data from somehwere. This can also hold extra data to filter on, eg. city name.
	location_data = getLocationData(),
	
	//Where the filter UI will be created
	filter_dropdown_holder = document.querySelector('.filter_holder'),
	
	//What data in the objects in location_data will be used for a filter.
	//This example creates filteres titled "Country" and "City" with the data coming from the "country_name"
	//and "city_name" fields in the location objects
	filter_fields = {
	    "Country": "country_name",
	    "City": "city_name"
	};

var new_map = new FilterMap(map_holder, location_data, filter_dropdown_holder, filter_fields );
```

## JSDoc reference

* * *

### FilterMap(map_holder, location_data, filter_dropdown_holder, filter_fields, center_coords, default_zoom, cluster_styles, maptype_id) 

Creates a filterable, clustered Google Map given a DOM element to hold the map and an object of latitude/longitude data.

**Parameters**

**map_holder**: `HTMLElement`, This is where the Google Map will go. Map fills up its container, so size this for map size

**location_data**: `Array`, Array of location objects. These have "Latitude" and "Longitude" values, as well as any required supporting data.

**filter_dropdown_holder**: `HTMLElement`, DOM element that will hold the filter dropdown UI

**filter_fields**: `Object`, Describes the data from the location_data array that you want to be able to filter upon. Also gives the label that should be attached to that field, eg. { "City": "loc_city" } would show a dropdown for "City" based on the values of "loc_city" given in the location_data array

**center_coords**: `Object`, Coordinates object, eg. { lat: 52, lng: 6 } , which will be the center focus of th emap by default.

**default_zoom**: `Number`, Zoom level to be initially applied to the map.

**cluster_styles**: `Array`, An array of style objects used to customise the cluster icons for the map.

**maptype_id**: `String`, What kind of map is displayed, ie. road, terrain etc.

* * *


## Improvements

This is a starter: much improvements can be made.

The infowindow that pops up needs to be customized in the FilterMap class for each usage. This is not ideal, a way to improve this would be good.

Location objects that are passed to the class have to be in an exact format with "Latitude" and "Longitude" being the object keys. This should be genericized to allow the dev to define what constitutes the lat/long data in their data object.
